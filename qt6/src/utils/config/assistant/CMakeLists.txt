# -*- coding: utf-8 -*-
# vim: SETfileencoding=utf-8
#
# SPDX-License-Identifier: MIT
#

SET (TARGET_APPLICATION_NAME "antiqua_assistant")

SET (ANTIQUACRM_INCLUDE_DIRS
 ${ANTIQUACRM_INCLUDE_DIRS}
 ${CMAKE_CURRENT_SOURCE_DIR}
 ${CMAKE_CURRENT_SOURCE_DIR}/../
 ${CMAKE_CURRENT_BINARY_DIR}/../
)

INCLUDE_DIRECTORIES (
  ${ANTIQUACRM_INCLUDE_DIRS}
  ${CMAKE_CURRENT_BINARY_DIR}
)

QT_ADD_RESOURCES(ASSISTANT_QRC
  ../../../application.qrc
)

ADD_EXECUTABLE(${TARGET_APPLICATION_NAME}
 ${ASSISTANT_QRC}
 main.cpp assistant.h assistant.cpp
 assistantwelcome.h assistantwelcome.cpp
)

SET_TARGET_PROPERTIES(${TARGET_APPLICATION_NAME} PROPERTIES
  OUTPUT_NAME ${TARGET_APPLICATION_NAME}
  LINKER_LANGUAGE CXX
  CXX_STANDARD ${ANTIQUACRM_STD_STANDARD}
  WIN32_EXECUTABLE TRUE
)

TARGET_LINK_LIBRARIES(${TARGET_APPLICATION_NAME} PRIVATE
  Qt6::Gui
  Qt6::Network
  Qt6::Widgets
  Qt6::Sql
  Qt6::Xml
  AntiquaCRM
  AntiquaWidgets
  ConfigDialog
)

STRING (TIMESTAMP ANTIQUACRM_PACKAGE_RELEASE "%j")
CONFIGURE_FILE (${ANTIQUACRM_DOMAIN_SCOPE}_assistant.desktop.cmake
  ${CMAKE_CURRENT_SOURCE_DIR}/${ANTIQUACRM_DOMAIN_SCOPE}_assistant.desktop
)

INSTALL(TARGETS antiqua_assistant
  DESTINATION ${CMAKE_INSTALL_PREFIX}/bin/
  COMPONENT Core
)

INSTALL(FILES ${ANTIQUACRM_DOMAIN_SCOPE}_assistant.desktop
  DESTINATION share/applications
  COMPONENT Data
)

##EOF
